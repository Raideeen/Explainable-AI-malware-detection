#!/bin/bash

# Script used to test several hyperparameters for the dexray model

# Define common arguments
learning_rates=(0.001 0.0001)
probas=(0 0.1 0.2 0.3 0.4 0.5)

# Function to execute a command and handle errors
execute_command() {
	"$@"
	local exit_code=$?
	if [ $exit_code -ne 0 ]; then
		echo "Error executing command: $@"
		exit $exit_code
	fi
}

for lr in "${learning_rates[@]}"; do
    for p in "${probas[@]}"; do
        execute_command python dexray_v2.py -lr "$lr" -p "$p"
    done
done