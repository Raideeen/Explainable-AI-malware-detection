# Pre-processing informations

This file is to be used to give informations, ideas or comment about the pre-processing part of the code.

# How to use the code

In order to convert your set of apk files into images, you first have to set the different hyperparameters :

- type : ("BW" or "RGB") to select if the images should be black and white or in colors
- median_size (= 6 000 000 ny default), it's the median size of your apks, which will determine the size of the output for all the images
- cut_coeff (= 0.2 by default), if the apk is too big to fit in the given size, a random cut can be applied to reduce the size of the file. However
the beginning and the end of the file should be kept intact, so this coefficient select how much of the image should be allocated to the beginnign and the end.
- cut_size (= 10 by default) defines the size of the random cuts. /!\ REFLEXION NEEDED to find how to chose the right size /!\
  [image](https://github.com/Raideeen/Explainable-AI-malware-detection/assets/95248502/3b799be6-4096-4819-9f2b-d7b5fc84b7f8)

Then simply put the path of the folder with all the apk files to be treated, and the path to the folder where the resulting output should be saved.

# Used method

For the black and white each byte in the apk file makes one pixel and each pixels are placed next to each other.

For the RGB, the bytes are taken 3 by 3 to create a pixel (R, G, B), and are then placed next to each other. Reducing the size of the file.

Image size adaption :
- Too short : will add random noise at the end of the file
- Too long : will apply a random cut. The beginning and the end will be kept intact, but the "middle" part will receive random cuts of a pre defined size. (see image above)

# Discussions 

Is the random cut relevant ? How could it be changed ?

How to determine the "cut_size" ? Might be very important !

Uuuuugh weird stuff happening : ![image](https://github.com/Raideeen/Explainable-AI-malware-detection/assets/95248502/0cf516a8-9a1e-4648-bc08-ba8a216d4477)

Same code, same file, same size, but the one on the left is 15.2Mo whereas the one on the right is 3.2Mo. The pixels seem to be the same however they seem to be "brighter" and more distinct in the left image.

Cause to be determined soon.
