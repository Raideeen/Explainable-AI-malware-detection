#!/bin/bash

# This script is used to start the training process of the model with all the
# steps.

# Function to handle errors
handle_error() {
    echo "Error occurred in script at line: $1."
    echo "Line exited with status: $2"
}

# Trap ERR signal and call our error handler
trap 'handle_error $LINENO $?' ERR

echo "Starting apk_to_image.py"
python pre_processing/apk_to_image.py -t RGB -p white
echo "Done with apk_to_image.py"

echo "Starting train_test_resnet18.py"
python model_training/train_test_resnet18.py -t RGB -p white
echo "Done with train_test_resnet18.py"

echo "Starting saliency.py"
python visualization/saliency.py -t RGB -p white
echo "Done with saliency.py" 